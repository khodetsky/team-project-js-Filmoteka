var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},l=e.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in o){var l=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,l.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=l);const r=document.querySelector("body"),a=document.querySelector(".theme__btn--light"),c=document.querySelector(".theme__btn--dark"),s=document.querySelector("footer"),n=(document.querySelector(".modal"),document.querySelector(".footer-modal")),d=document.querySelector(".footer-modal__text");a.addEventListener("click",(function(){c.style.display="block",a.style.display="none",r.classList.remove("dark"),s.classList.remove("dark"),n.style.backgroundColor="white",d.style.color="#545454",i=localStorage.setItem("currentTheme","light")})),c.addEventListener("click",u);let i="";function u(){a.style.display="block",c.style.display="none",r.classList.add("dark"),s.classList.add("dark"),n.style.backgroundColor="#333",d.style.color="white",i=localStorage.setItem("currentTheme","dark")}"dark"===localStorage.getItem("currentTheme")&&u(),l("8y7EH"),l("eS71k"),l("epHO8");var g=l("lHYXG"),m=l("bMgEY"),y=l("3cIwM"),p=l("gJGFz");const f=document.querySelector("#queue"),v=document.querySelector("#watched"),S=document.querySelector(".header__buttons"),b=document.querySelector(".gallery"),h=document.querySelector("#pagination"),k=document.querySelector("#page-numbers"),w=document.querySelector(".modal__data--content"),q={watched:"watchedAll",queue:"queueAll"},L="watched",_="queue";function E(e,t){const o=JSON.parse(localStorage.getItem(q[e]));if(o){const l={page:t,total_pages:o.total_pages,total_results:o.total_results,results:o.results.slice(20*(t-1),20*t),rules:e};localStorage.setItem("localMovies",JSON.stringify(l)),(0,g.drawGallery)(b,l.results),(0,m.drawPagination)(k,t,l.total_pages),h.addEventListener("click",I),b.addEventListener("click",T)}else b.innerHTML="<h1>EMPTY gallery</h1>",k.innerHTML="";window.scrollTo(0,0),S.addEventListener("click",M)}function M(e){S.removeEventListener("click",M),"watched"===e.target.id?(v.classList.add("btn--is-active"),f.classList.remove("btn--is-active"),E(L,1)):(v.classList.remove("btn--is-active"),f.classList.add("btn--is-active"),E(_,1))}function T(e){if(e.target.closest(".card")){const t=e.target.closest(".card");console.log(`%c${t.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;");const o=JSON.parse(localStorage.getItem("localMovies")).results[t.dataset.movie];w.insertAdjacentHTML("afterbegin",(0,p.addModalMcp)(o))}}function I(e){if(!e.target.closest("[data-page]"))return;k.removeEventListener("click",I);const t=e.target.closest("[data-page]").dataset.page,o=JSON.parse(localStorage.getItem("localMovies")),l=o.page,r=o.total_pages,a=(0,y.calcNewPgNum)(l,t,r);E(o.rules,a)}E(L,1);
//# sourceMappingURL=my-library.8b340358.js.map
