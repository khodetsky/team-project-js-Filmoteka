function t(t,n){t.innerHTML=function(t){return t.map(((t,n)=>function({poster_path:t,genre_ids:n,title:a,release_date:s,vote_average:r},i){const c="https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png",o=t?`https://image.tmdb.org/t/p/w500${t}`:c,l=(d=r,d<3?"card__rating-poor":d<5?"card__rating-low":d<7?"card__rating-medium":"card__rating-high");var d;return`\n    <li class="card" data-movie="${i}">\n        <a class="gallery__link">\n            <img class="card__img" src="${o}">\n            <p class="card__title">${a}</p>\n            <div class="card__text-container">\n                <p class="card__text">${function(t){const n=t.map(e);if(!n)return"";return n.length<=3?n.join(", "):[...n.slice(0,2),"other..."].join(", ")}(n)} | ${s?s.slice(0,4):""}</p>\n                <div class="card__rating-box ${l}" id="card-rating">\n                    <p class="card__rating-text">${r.toFixed(1)}</p>\n                </div>\n            </div>\n        </a>\n    </li>`}(t,n))).join("")}(n)}function e(t){return JSON.parse(localStorage.getItem("genres")).find((e=>e.id===t)).name}function n(t,e,n){const a=`\n            <button type="button" class="num-btn mobile-hiding" data-page="first">1</button>\n            <span class="num-btn mobile-hiding" data-page="${e}">...</span>    \n            ${function(t,e){let n=1,a=e,s="";e>5&&(t<3?a=5:t>e-3?(n=e-5+1,a=e):(n=t-2,a=t+2));for(let e=n;e<=a;e++)s+=`\n        <span\n            class="${e!==t?"num-btn":"pg-btn pg-btn--cur"}"\n            data-page="${e}">${e}</span>\n        `;return s}(e,n)}\n            <span class="num-btn mobile-hiding" data-page="${e}">...</span>    \n            <button type="button" class="num-btn mobile-hiding" data-page="last">${n}</button>\n        `;t.innerHTML=a}function a(t,e,n){switch(e){case"first":return 1;case"last":return n;case"prev":return 1===t?1:t-1;case"next":return t===n?n:t+1;default:return+e}}const s=document.querySelector("#queue"),r=document.querySelector("#watched"),i=document.querySelector(".header__buttons"),c=document.querySelector(".gallery"),o=document.querySelector("#pagination"),l=document.querySelector("#page-numbers"),d={watched:"watchedAll",queue:"queueAll"},u="watched",g="queue";function p(e,a){const s=JSON.parse(localStorage.getItem(d[e]));if(s){const r={page:a,total_pages:s.total_pages,total_results:s.total_results,results:s.results.slice(20*(a-1),20*a),rules:e};localStorage.setItem("localMovies",JSON.stringify(r)),t(c,r.results),n(l,a,r.total_pages),o.addEventListener("click",b),c.addEventListener("click",_)}else c.innerHTML="<h1>EMPTY gallery</h1>",l.innerHTML="";window.scrollTo(0,0),i.addEventListener("click",m)}function m(t){i.removeEventListener("click",m),"watched"===t.target.id?(r.classList.add("btn--is-active"),s.classList.remove("btn--is-active"),p(u,1)):(r.classList.remove("btn--is-active"),s.classList.add("btn--is-active"),p(g,1))}function _(t){const e=t.target.closest(".gallery__item");console.log(`%c${e.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;")}function b(t){if(!t.target.closest("[data-page]"))return;l.removeEventListener("click",b);const e=t.target.closest("[data-page]").dataset.page,n=JSON.parse(localStorage.getItem("localMovies")),s=a(n.page,e,n.total_pages);p(n.rules,s)}p(u,1);
//# sourceMappingURL=my-library.3ea9978c.js.map
