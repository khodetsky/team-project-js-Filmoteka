var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},l=e.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in o){var l=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,l.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequired7c6=l);const a=document.querySelector("body"),r=document.querySelector(".theme__btn--light"),c=document.querySelector(".theme__btn--dark"),s=document.querySelector("footer"),n=document.querySelector(".modal"),d=document.querySelector(".footer-modal"),i=document.querySelector(".footer-modal__text");r.addEventListener("click",(function(){c.style.display="block",r.style.display="none",a.classList.remove("dark"),s.classList.remove("dark"),d.style.backgroundColor="white",i.style.color="#545454",n.classList.remove("dark"),u=localStorage.setItem("currentTheme","light")})),c.addEventListener("click",g);let u="";function g(){r.style.display="block",c.style.display="none",a.classList.add("dark"),s.classList.add("dark"),d.style.backgroundColor="#333",i.style.color="white",n.classList.add("dark"),u=localStorage.setItem("currentTheme","dark")}"dark"===localStorage.getItem("currentTheme")&&g(),l("8y7EH"),l("eS71k"),l("epHO8");var m=l("lHYXG"),y=l("bMgEY"),p=l("3cIwM"),f=l("gJGFz");const v=document.querySelector("#queue"),S=document.querySelector("#watched"),k=document.querySelector(".header__buttons"),b=document.querySelector(".gallery"),h=document.querySelector("#pagination"),w=document.querySelector("#page-numbers"),L=document.querySelector(".modal__data--content"),q={watched:"watchedAll",queue:"queueAll"},_="watched",E="queue";function M(e,t){const o=JSON.parse(localStorage.getItem(q[e]));if(o){const l={page:t,total_pages:o.total_pages,total_results:o.total_results,results:o.results.slice(20*(t-1),20*t),rules:e};localStorage.setItem("localMovies",JSON.stringify(l)),(0,m.drawGallery)(b,l.results),(0,y.drawPagination)(w,t,l.total_pages),h.addEventListener("click",N),b.addEventListener("click",I)}else b.innerHTML="<h1>EMPTY gallery</h1>",w.innerHTML="";window.scrollTo(0,0),k.addEventListener("click",T)}function T(e){k.removeEventListener("click",T),"watched"===e.target.id?(S.classList.add("btn--is-active"),v.classList.remove("btn--is-active"),M(_,1)):(S.classList.remove("btn--is-active"),v.classList.add("btn--is-active"),M(E,1))}function I(e){if(e.target.closest(".card")){const t=e.target.closest(".card");console.log(`%c${t.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;");const o=JSON.parse(localStorage.getItem("localMovies")).results[t.dataset.movie];L.insertAdjacentHTML("afterbegin",(0,f.addModalMcp)(o))}}function N(e){if(!e.target.closest("[data-page]"))return;w.removeEventListener("click",N);const t=e.target.closest("[data-page]").dataset.page,o=JSON.parse(localStorage.getItem("localMovies")),l=o.page,a=o.total_pages,r=(0,p.calcNewPgNum)(l,t,a);M(o.rules,r)}M(_,1);
//# sourceMappingURL=my-library.73f7666a.js.map
