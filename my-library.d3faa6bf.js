!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequired7c6=o),o.register("iE7OH",(function(t,n){var a,r;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var o={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},r=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var r={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),r[e]=t),t}})),o("iE7OH").register(JSON.parse('{"1B9dp":"my-library.d3faa6bf.js","iXmQi":"cat4.20e1c480.png","i1d4J":"cat2.81973b2a.png","2yShu":"cat3.fda6e4d6.png","18zHm":"cat1.a58230aa.png","gJaic":"cat5.cc26cab5.png","3qf9w":"cat6.5344dc8f.png","fNyiU":"cat7.c263b402.png"}'));const i=document.querySelector("body"),c=document.querySelector(".theme__btn--light"),l=document.querySelector(".theme__btn--dark"),s=document.querySelector("footer"),d=(document.querySelector(".modal"),document.querySelector(".footer-modal")),u=document.querySelector(".footer-modal__text");c.addEventListener("click",(function(){l.style.display="block",c.style.display="none",i.classList.remove("dark"),s.classList.remove("dark"),d.style.backgroundColor="white",u.style.color="#545454",m=localStorage.setItem("currentTheme","light")})),l.addEventListener("click",p);let m="";function p(){c.style.display="block",l.style.display="none",i.classList.add("dark"),s.classList.add("dark"),d.style.backgroundColor="#333",u.style.color="white",m=localStorage.setItem("currentTheme","dark")}"dark"===localStorage.getItem("currentTheme")&&p();var g;g=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("iXmQi");var f;f=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("i1d4J");var v;v=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("2yShu");var _;_=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("18zHm");var b;b=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("gJaic");var h;h=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("3qf9w");var y;y=o("aNJCr").getBundleURL("1B9dp")+o("iE7OH").resolve("fNyiU");const k=[{name:"Alexander Khodetskiy",position:"Team Lead",img:t(g),link:"https://github.com/khodetsky"},{name:"Ilya Milinteev",position:"Scrum Master",img:t(f),link:"https://github.com/milintey"},{name:"Arkadii Zaslavskyi",position:"Developer",img:t(v),link:"https://github.com/ArkZaslavskyi"},{name:"Alina Zhyva",position:"Developer",img:t(_),link:"https://github.com/azhivaya"},{name:"Anna Matvieieva",position:"Developer",img:t(b),link:"https://github.com/annamatvieieva"},{name:"Artem Yakushkin",position:"Developer",img:t(h),link:"https://github.com/ArtemYakushkin"},{name:"Sasha Maslak",position:"Developer",img:t(y),link:"https://github.com/SashaMaslak"}],S={footerBtnLinkText:document.querySelector("[data-modal-open]"),backdrop:document.querySelector("[data-modal]"),modalBtnClose:document.querySelector("[data-modal-close"),teamMarkup:document.querySelector(".team")},L=document.querySelector("body");function w(e){"Escape"===e.code&&(H(),q())}function E(e){e.target.classList.contains("footer-backdrop")&&(H(),q())}function H(){S.backdrop.classList.toggle("is-hidden")}function q(){window.removeEventListener("keydown",w),S.modalBtnClose.removeEventListener("click",$),S.backdrop.removeEventListener("click",E),L.style.overflow=""}function $(){H(),q(),console.log("footer btn click")}S.footerBtnLinkText.addEventListener("click",(function(e){e.preventDefault(),window.addEventListener("keydown",w),S.modalBtnClose.addEventListener("click",$),S.backdrop.addEventListener("click",E),H(),L.style.overflow="hidden"}));const x=k.map((({name:e,img:t,position:n,link:a})=>`<li class="team__item"><a target="_blank" rel="noopener noreferrer" class="team__link" href="${a}">\n                <img class="team__img" src="${t}" alt="team member">\n              </a>\n    <p class="team__name">${e}</p>\n    <p class="team__position">${n}</p>\n    </li>`)).join("");S.teamMarkup.insertAdjacentHTML("beforeend",x);function B(e,t){e.innerHTML=function(e){return e.map(((e,t)=>function({poster_path:e,genre_ids:t,title:n,release_date:a,vote_average:r},o){const i="https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png",c=e?`https://image.tmdb.org/t/p/w500${e}`:i,l=(s=r,s<3?"card__rating-poor":s<5?"card__rating-low":s<7?"card__rating-medium":"card__rating-high");var s;return`\n    <li class="card" data-movie="${o}">\n        <a class="gallery__link">\n            <img class="card__img" src="${c}">\n            <p class="card__title">${n}</p>\n            <div class="card__text-container">\n                <p class="card__text">${function(e){const t=e.map(O);if(!t)return"";return t.length<=3?t.join(", "):[...t.slice(0,2),"other..."].join(", ")}(t)} | ${a?a.slice(0,4):""}</p>\n                <div class="card__rating-box ${l}" id="card-rating">\n                    <p class="card__rating-text">${r.toFixed(1)}</p>\n                </div>\n            </div>\n        </a>\n    </li>`}(e,t))).join("")}(t)}function O(e){return JSON.parse(localStorage.getItem("genres")).find((t=>t.id===e)).name}function A(e,t,n){const a=`\n            <button type="button" class="num-btn mobile-hiding" data-page="first">1</button>\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            ${function(e,t){let n=1,a=t,r="";t>5&&(e<3?a=5:e>t-3?(n=t-5+1,a=t):(n=e-2,a=e+2));for(let t=n;t<=a;t++)r+=`\n        <span\n            class="${t!==e?"num-btn":"pg-btn pg-btn--cur"}"\n            data-page="${t}">${t}</span>\n        `;return r}(t,n)}\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            <button type="button" class="num-btn mobile-hiding" data-page="last">${n}</button>\n        `;e.innerHTML=a}function N(e,t,n){switch(t){case"first":return 1;case"last":return n;case"prev":return 1===e?1:e-1;case"next":return e===n?n:e+1;default:return+t}}const R=document.querySelector("#queue"),J=document.querySelector("#watched"),M=document.querySelector(".header__buttons"),T=document.querySelector(".gallery"),C=document.querySelector("#pagination"),U=document.querySelector("#page-numbers"),F="localMovies",j={watched:"watchedAll",queue:"queueAll"},D="watched",I="queue";function z(e,t){const n=JSON.parse(localStorage.getItem(j[e]));if(n){const a={page:t,total_pages:n.total_pages,total_results:n.total_results,results:n.results.slice(20*(t-1),20*t),rules:e};localStorage.setItem(F,JSON.stringify(a)),B(T,a.results),A(U,t,a.total_pages),C.addEventListener("click",P),T.addEventListener("click",Z)}else T.innerHTML="<h1>EMPTY gallery</h1>",U.innerHTML="";window.scrollTo(0,0),M.addEventListener("click",Y)}function Y(e){M.removeEventListener("click",Y),"watched"===e.target.id?(J.classList.add("btn--is-active"),R.classList.remove("btn--is-active"),z(D,1)):(J.classList.remove("btn--is-active"),R.classList.add("btn--is-active"),z(I,1))}function Z(e){const t=e.target.closest(".gallery__item");console.log(`%c${t.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;")}function P(e){if(!e.target.closest("[data-page]"))return;U.removeEventListener("click",P);const t=e.target.closest("[data-page]").dataset.page,n=JSON.parse(localStorage.getItem(F)),a=N(n.page,t,n.total_pages);z(n.rules,a)}z(D,1)}();
//# sourceMappingURL=my-library.d3faa6bf.js.map
