function e(e,n){e.innerHTML=function(e){return e.map(((e,n)=>function({poster_path:e,genre_ids:n,title:a,release_date:s,vote_average:r},c){return`\n    <li class="card" data-movie="${c}">\n        <a class="gallery__link">\n            <img class="card__img" src="https://image.tmdb.org/t/p/w500${e}">\n            <p class="card__title">${a}</p>\n            <div class="card__text-container">\n                <p class="card__text">${function(e){const n=e.map(t);if(!n)return"";return n.length<=3?n.join(", "):[...n.slice(0,2),"other..."].join(", ")}(n)} | ${s?s.slice(0,4):""}</p>\n                <div class="card__rating-box" id="card-rating">\n                    <p class="card__rating-text">${r.toFixed(1)}</p>\n                </div>\n            </div>\n        </a>\n    </li>`}(e,n))).join("")}(n)}function t(e){return JSON.parse(localStorage.getItem("genres")).find((t=>t.id===e)).name}function n(e,t,n){const a=`\n            <button type="button" class="num-btn mobile-hiding" data-page="first">1</button>\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            ${function(e,t){let n=1,a=t,s="";t>5&&(e<3?a=5:e>t-3?(n=t-5+1,a=t):(n=e-2,a=e+2));for(let t=n;t<=a;t++)s+=`\n        <span\n            class="${t!==e?"num-btn":"pg-btn pg-btn--cur"}"\n            data-page="${t}">${t}</span>\n        `;return s}(t,n)}\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            <button type="button" class="num-btn mobile-hiding" data-page="last">${n}</button>\n        `;e.innerHTML=a}function a(e,t,n){switch(t){case"first":return 1;case"last":return n;case"prev":return 1===e?1:e-1;case"next":return e===n?n:e+1;default:return+t}}const s=document.querySelector("#queue"),r=document.querySelector("#watched"),c=document.querySelector(".header__buttons"),l=document.querySelector(".gallery"),i=document.querySelector("#pagination"),o=document.querySelector("#page-numbers"),u={watched:"watchedAll",queue:"queueAll"},d="watched",g="queue";function p(t,a){const s=JSON.parse(localStorage.getItem(u[t]));if(s){const r={page:a,total_pages:s.total_pages,total_results:s.total_results,results:s.results.slice(20*(a-1),20*a),rules:t};localStorage.setItem("localMovies",JSON.stringify(r)),e(l,r.results),n(o,a,r.total_pages),i.addEventListener("click",_),l.addEventListener("click",b)}else l.innerHTML="<h1>EMPTY gallery</h1>",o.innerHTML="";window.scrollTo(0,0),c.addEventListener("click",m)}function m(e){c.removeEventListener("click",m),"watched"===e.target.id?(r.classList.add("btn--is-active"),s.classList.remove("btn--is-active"),p(d,1)):(r.classList.remove("btn--is-active"),s.classList.add("btn--is-active"),p(g,1))}function b(e){const t=e.target.closest(".gallery__item");console.log(`%c${t.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;")}function _(e){if(!e.target.closest("[data-page]"))return;o.removeEventListener("click",_);const t=e.target.closest("[data-page]").dataset.page,n=JSON.parse(localStorage.getItem("localMovies")),s=a(n.page,t,n.total_pages);p(n.rules,s)}p(d,1);
//# sourceMappingURL=my-library.8a48b224.js.map
