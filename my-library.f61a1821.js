function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequired7c6=o),o.register("kyEFX",(function(t,n){var a,r;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var o={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},r=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"7OqUs":"my-library.f61a1821.js","a98ip":"cat4.20e1c480.png","juDiW":"cat2.81973b2a.png","iRqEz":"cat3.fda6e4d6.png","cHwNN":"cat1.a58230aa.png","6BRmD":"cat5.cc26cab5.png","gZivX":"cat6.5344dc8f.png","f9K2v":"cat7.c263b402.png"}'));const i=document.querySelector("body"),l=document.querySelector(".theme__btn--light"),s=document.querySelector(".theme__btn--dark"),c=document.querySelector("footer"),d=(document.querySelector(".modal"),document.querySelector(".footer-modal")),u=document.querySelector(".footer-modal__text");l.addEventListener("click",(function(){s.style.display="block",l.style.display="none",i.classList.remove("dark"),c.classList.remove("dark"),d.style.backgroundColor="white",u.style.color="#545454",m=localStorage.setItem("currentTheme","light")})),s.addEventListener("click",p);let m="";function p(){l.style.display="block",s.style.display="none",i.classList.add("dark"),c.classList.add("dark"),d.style.backgroundColor="#333",u.style.color="white",m=localStorage.setItem("currentTheme","dark")}"dark"===localStorage.getItem("currentTheme")&&p();var g;g=new URL(o("kyEFX").resolve("a98ip"),import.meta.url).toString();var f;f=new URL(o("kyEFX").resolve("juDiW"),import.meta.url).toString();var v;v=new URL(o("kyEFX").resolve("iRqEz"),import.meta.url).toString();var _;_=new URL(o("kyEFX").resolve("cHwNN"),import.meta.url).toString();var b;b=new URL(o("kyEFX").resolve("6BRmD"),import.meta.url).toString();var k;k=new URL(o("kyEFX").resolve("gZivX"),import.meta.url).toString();var y;y=new URL(o("kyEFX").resolve("f9K2v"),import.meta.url).toString();const h=[{name:"Alexander Khodetskiy",position:"Team Lead",img:t(g),link:"https://github.com/khodetsky"},{name:"Ilya Milinteev",position:"Scrum Master",img:t(f),link:"https://github.com/milintey"},{name:"Arkadii Zaslavskyi",position:"Developer",img:t(v),link:"https://github.com/ArkZaslavskyi"},{name:"Alina Zhyva",position:"Developer",img:t(_),link:"https://github.com/azhivaya"},{name:"Anna Matvieieva",position:"Developer",img:t(b),link:"https://github.com/annamatvieieva"},{name:"Artem Yakushkin",position:"Developer",img:t(k),link:"https://github.com/ArtemYakushkin"},{name:"Sasha Maslak",position:"Developer",img:t(y),link:"https://github.com/SashaMaslak"}],S={footerBtnLinkText:document.querySelector("[data-modal-open]"),backdrop:document.querySelector("[data-modal]"),modalBtnClose:document.querySelector("[data-modal-close"),teamMarkup:document.querySelector(".team")};function w(e){"Escape"===e.code&&(E(),q())}function L(e){e.target.classList.contains("footer-backdrop")&&(E(),q())}function E(){S.backdrop.classList.toggle("is-hidden")}function q(){window.removeEventListener("keydown",w),S.modalBtnClose.removeEventListener("click",H),S.backdrop.removeEventListener("click",L)}function H(){E(),q(),console.log("footer btn click")}S.footerBtnLinkText.addEventListener("click",(function(e){e.preventDefault(),window.addEventListener("keydown",w),S.modalBtnClose.addEventListener("click",H),S.backdrop.addEventListener("click",L),E()}));const R=h.map((({name:e,img:t,position:n,link:a})=>`<li class="team__item"><a target="_blank" rel="noopener noreferrer" class="team__link" href="${a}">\n                <img class="team__img" src="${t}" alt="team member">\n              </a>\n    <p class="team__name">${e}</p>\n    <p class="team__position">${n}</p>\n    </li>`)).join("");S.teamMarkup.insertAdjacentHTML("beforeend",R);function $(e,t){e.innerHTML=function(e){return e.map(((e,t)=>function({poster_path:e,genre_ids:t,title:n,release_date:a,vote_average:r},o){const i="https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png",l=e?`https://image.tmdb.org/t/p/w500${e}`:i,s=(c=r,c<3?"card__rating-poor":c<5?"card__rating-low":c<7?"card__rating-medium":"card__rating-high");var c;return`\n    <li class="card" data-movie="${o}">\n        <a class="gallery__link">\n            <img class="card__img" src="${l}">\n            <p class="card__title">${n}</p>\n            <div class="card__text-container">\n                <p class="card__text">${function(e){const t=e.map(F);if(!t)return"";return t.length<=3?t.join(", "):[...t.slice(0,2),"other..."].join(", ")}(t)} | ${a?a.slice(0,4):""}</p>\n                <div class="card__rating-box ${s}" id="card-rating">\n                    <p class="card__rating-text">${r.toFixed(1)}</p>\n                </div>\n            </div>\n        </a>\n    </li>`}(e,t))).join("")}(t)}function F(e){return JSON.parse(localStorage.getItem("genres")).find((t=>t.id===e)).name}function x(e,t,n){const a=`\n            <button type="button" class="num-btn mobile-hiding" data-page="first">1</button>\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            ${function(e,t){let n=1,a=t,r="";t>5&&(e<3?a=5:e>t-3?(n=t-5+1,a=t):(n=e-2,a=e+2));for(let t=n;t<=a;t++)r+=`\n        <span\n            class="${t!==e?"num-btn":"pg-btn pg-btn--cur"}"\n            data-page="${t}">${t}</span>\n        `;return r}(t,n)}\n            <span class="num-btn mobile-hiding" data-page="${t}">...</span>    \n            <button type="button" class="num-btn mobile-hiding" data-page="last">${n}</button>\n        `;e.innerHTML=a}function A(e,t,n){switch(t){case"first":return 1;case"last":return n;case"prev":return 1===e?1:e-1;case"next":return e===n?n:e+1;default:return+t}}const M=document.querySelector("#queue"),T=document.querySelector("#watched"),D=document.querySelector(".header__buttons"),N=document.querySelector(".gallery"),O=document.querySelector("#pagination"),X=document.querySelector("#page-numbers"),j={watched:"watchedAll",queue:"queueAll"},U="watched",I="queue";function B(e,t){const n=JSON.parse(localStorage.getItem(j[e]));if(n){const a={page:t,total_pages:n.total_pages,total_results:n.total_results,results:n.results.slice(20*(t-1),20*t),rules:e};localStorage.setItem("localMovies",JSON.stringify(a)),$(N,a.results),x(X,t,a.total_pages),O.addEventListener("click",Z),N.addEventListener("click",J)}else N.innerHTML="<h1>EMPTY gallery</h1>",X.innerHTML="";window.scrollTo(0,0),D.addEventListener("click",C)}function C(e){D.removeEventListener("click",C),"watched"===e.target.id?(T.classList.add("btn--is-active"),M.classList.remove("btn--is-active"),B(U,1)):(T.classList.remove("btn--is-active"),M.classList.add("btn--is-active"),B(I,1))}function J(e){const t=e.target.closest(".gallery__item");console.log(`%c${t.dataset.movie}`,"color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;")}function Z(e){if(!e.target.closest("[data-page]"))return;X.removeEventListener("click",Z);const t=e.target.closest("[data-page]").dataset.page,n=JSON.parse(localStorage.getItem("localMovies")),a=A(n.page,t,n.total_pages);B(n.rules,a)}B(U,1);
//# sourceMappingURL=my-library.f61a1821.js.map
