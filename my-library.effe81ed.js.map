{"mappings":"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","sources":["src/js/changeThemeLibrary.js","src/my-library.js"],"sourcesContent":["const body = document.querySelector('body');\nconst btnLightTheme = document.querySelector('.theme__btn--light');\nconst btnDarkTheme = document.querySelector('.theme__btn--dark');\nconst footer = document.querySelector('footer');\nconst modal = document.querySelector('.modal');\nconst modalFooter = document.querySelector('.footer-modal');\nconst footerModalText = document.querySelector('.footer-modal__text');\n\n\n\n\n\nbtnLightTheme.addEventListener('click', setLightTheme);\nbtnDarkTheme.addEventListener('click', setDarkTheme);\n\nlet currentTheme = '';\n\nif (localStorage.getItem('currentTheme') === 'dark') {\n   setDarkTheme();\n}\n\nfunction setLightTheme() {\n   btnDarkTheme.style.display = \"block\";\n   btnLightTheme.style.display = \"none\";\n   body.classList.remove('dark');\n   footer.classList.remove('dark');\n   modalFooter.style.backgroundColor = \"white\";\n   footerModalText.style.color = \"#545454\";\n   modal.classList.remove('dark');\n   currentTheme = localStorage.setItem('currentTheme', 'light');\n}\n\nfunction setDarkTheme() {\n   btnLightTheme.style.display = \"block\";\n   btnDarkTheme.style.display = \"none\";\n   body.classList.add('dark');\n   footer.classList.add('dark');\n   modalFooter.style.backgroundColor = \"#333\";\n   footerModalText.style.color = \"white\";\n   modal.classList.add('dark');\n   currentTheme = localStorage.setItem('currentTheme', 'dark');\n}\n","import './js/changeThemeLibrary';\n// Основний файл сторінки My library. Сюди будуть імпортуватися окремі функції з ./js/my-library\n// Додавайте ці окремі файли саме у ту папку і експортуйте сюди.\nimport './js/modal-close';\nimport './js/modal-open';\nimport './js/footer';\n\nimport { drawGallery } from \"./js/drawGallery\";\nimport { drawPagination } from \"./js/drawPagination\";\nimport { calcNewPgNum } from \"./js/calcNewPgNum\";\nimport { addModalMcp } from './js/modalMarkup';\n// \nconst queueBtnRef = document.querySelector('#queue');\nconst watchedBtnRef = document.querySelector('#watched');\nconst buttonsRef = document.querySelector('.header__buttons');\nconst galleryRef = document.querySelector('.gallery');\nconst paginationRef = document.querySelector('#pagination');\nconst pageNumRef = document.querySelector('#page-numbers');\nconst modalMcpContainer = document.querySelector('.modal__data--content');\n// \nconst MOVIES_PER_PAGE = 20;\nconst LOCAL_MOVIES_KEY = 'localMovies';\n// \nconst STORAGE_KEYS = {\n    watched: 'watchedAll',\n    queue: 'queueAll',\n}\n// \nconst LOCAL_MOVIES_RULES = {\n    watched: 'watched',\n    queue: 'queue',\n};\n//\n\n/* Rendering Initial Values*/\nreDrawLocalMovies(LOCAL_MOVIES_RULES.watched, 1);\n\n/*\n * ===================\n */\n\n/* MAIN Content Rendering Function */\nfunction reDrawLocalMovies(rules, pgNum) {\n    // Get movies Full List from needed Local Storage  \n    const movies = JSON.parse(localStorage.getItem(STORAGE_KEYS[rules]));\n\n    if (movies) {\n        const localMovies = {\n            page: pgNum,\n            total_pages: movies.total_pages,\n            total_results: movies.total_results,\n            results: movies.results.slice(MOVIES_PER_PAGE * (pgNum - 1), MOVIES_PER_PAGE * pgNum),\n            rules,\n        }\n\n        localStorage.setItem(LOCAL_MOVIES_KEY, JSON.stringify(localMovies));\n\n        drawGallery(galleryRef, localMovies.results);\n        drawPagination(pageNumRef, pgNum, localMovies.total_pages);\n    \n        paginationRef.addEventListener('click', onPgNumClk);\n        galleryRef.addEventListener('click', onGalleryClk);\n    } else {\n\n        drawEmptyGallery();\n};\n    \n    window.scrollTo(0, 0);\n    buttonsRef.addEventListener('click', onBtnClk);\n};\n\nfunction drawEmptyGallery() {\n    galleryRef.innerHTML = '<h1>EMPTY gallery</h1>';\n    pageNumRef.innerHTML = '';\n}\n\nfunction onBtnClk(e) {\n    buttonsRef.removeEventListener('click', onBtnClk);\n    \n    if (e.target.id === 'watched') {\n        watchedBtnRef.classList.add('btn--is-active')\n        queueBtnRef.classList.remove('btn--is-active');\n\n        reDrawLocalMovies(LOCAL_MOVIES_RULES.watched, 1)\n    } else {\n        watchedBtnRef.classList.remove('btn--is-active')\n        queueBtnRef.classList.add('btn--is-active');\n\n        reDrawLocalMovies(LOCAL_MOVIES_RULES.queue, 1)\n    };\n}\n\n\nfunction onGalleryClk(e) {\n    if (e.target.closest('.card')) {\n        const movieNumberEl = e.target.closest('.card');\n    // console.log(e.target);\n    // console.log(movieNumberEl);\n    console.log(`%c${movieNumberEl.dataset.movie}`, 'color: yellow; background-color: red; display: inline-block; padding: 5px; font-weight: bold;');\n    \n    const movie = JSON.parse(localStorage.getItem(LOCAL_MOVIES_KEY))\n        .results[movieNumberEl.dataset.movie];\n    modalMcpContainer.insertAdjacentHTML('afterbegin', addModalMcp(movie)) ;\n    }\n    \n};\n\nfunction onPgNumClk(e) {\n    if (!e.target.closest('[data-page]')) {\n        return\n    };\n\n    pageNumRef.removeEventListener('click', onPgNumClk);\n\n    const targetPageNum = e.target.closest('[data-page]').dataset.page;\n\n    // if (!targetPageNum) {\n    //     return;\n    // }\n\n    const localMovies = JSON.parse(localStorage.getItem(LOCAL_MOVIES_KEY));\n\n    const currentPageNum = localMovies.page;\n    const totalPages = localMovies.total_pages;\n\n    const newPageNum = calcNewPgNum(currentPageNum, targetPageNum, totalPages);\n\n    reDrawLocalMovies(localMovies.rules, newPageNum);\n};\n\n    // GET TRENDING\n    // const MEDIA_TYPE = 'movie';\n    // const TIME_WINDOW = 'day'; // day | week\n    // https://api.themoviedb.org/3/trending/{MEDIA_TYPE}/{TIME_WINDOW}?api_key=<<api_key>>\n    // \n    \n    \n    // GET SEARCH QUERY\n    // \n    // https://api.themoviedb.org/3/search/movie?api_key=b282a22ae665f5f17a32a077013d243c&query=cat&page=1&include_adult=false\n"],"names":["$894867cefe47d7b4$var$body","document","querySelector","$894867cefe47d7b4$var$btnLightTheme","$894867cefe47d7b4$var$btnDarkTheme","$894867cefe47d7b4$var$footer","$894867cefe47d7b4$var$modal","$894867cefe47d7b4$var$modalFooter","$894867cefe47d7b4$var$footerModalText","addEventListener","style","display","classList","remove","backgroundColor","color","$894867cefe47d7b4$var$currentTheme","localStorage","setItem","$894867cefe47d7b4$var$setDarkTheme","add","getItem","$865c390aa2d1ad34$var$queueBtnRef","$865c390aa2d1ad34$var$watchedBtnRef","$865c390aa2d1ad34$var$buttonsRef","$865c390aa2d1ad34$var$galleryRef","$865c390aa2d1ad34$var$paginationRef","$865c390aa2d1ad34$var$pageNumRef","$865c390aa2d1ad34$var$modalMcpContainer","$865c390aa2d1ad34$var$LOCAL_MOVIES_KEY","$865c390aa2d1ad34$var$STORAGE_KEYS","watched","queue","$865c390aa2d1ad34$var$LOCAL_MOVIES_RULES","$865c390aa2d1ad34$var$reDrawLocalMovies","rules","pgNum","movies","JSON","parse","localMovies","page","total_pages","total_results","results","slice","stringify","$azRuP","drawGallery","$cbBJp","drawPagination","$865c390aa2d1ad34$var$onPgNumClk","$865c390aa2d1ad34$var$onGalleryClk","innerHTML","window","scrollTo","$865c390aa2d1ad34$var$onBtnClk","e","removeEventListener","target","id","closest","movieNumberEl","console","log","dataset","movie","insertAdjacentHTML","$yVC87","addModalMcp","targetPageNum","currentPageNum","totalPages","newPageNum","$8hUJb","calcNewPgNum"],"version":3,"file":"my-library.effe81ed.js.map"}